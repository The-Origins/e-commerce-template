{"version":3,"file":"component---src-pages-auth-login-js-af85b824fe311d9fea50.js","mappings":"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","sources":["webpack://e-commerce-website/./node_modules/@mui/icons-material/esm/Google.js","webpack://e-commerce-website/./src/components/auth/login/intro.jsx","webpack://e-commerce-website/./src/components/auth/login/loginForm.jsx","webpack://e-commerce-website/./src/pages/auth/login.js"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z\"\n}), 'Google');","import React from \"react\";\r\nimport { Email, Facebook, Google } from \"@mui/icons-material\";\r\nimport { Box, Button } from \"@mui/material\";\r\nimport { Link } from \"gatsby\";\r\n\r\nconst LoginIntro = ({ setStage, tab }) => {\r\n  return (\r\n    <Box\r\n      width={\"100%\"}\r\n      height={\"100%\"}\r\n      display={\"flex\"}\r\n      flexDirection={\"column\"}\r\n      alignItems={\"center\"}\r\n      justifyContent={\"center\"}\r\n      gap={\"10px\"}\r\n    >\r\n      <Button\r\n        variant=\"outlined\"\r\n        startIcon={<Google />}\r\n        sx={{ width: \"300px\", height: \"50px\" }}\r\n      >\r\n        Google\r\n      </Button>\r\n      <Button\r\n        variant=\"outlined\"\r\n        startIcon={<Facebook />}\r\n        sx={{ width: \"300px\", height: \"50px\" }}\r\n      >\r\n        Facebook\r\n      </Button>\r\n      <Button\r\n        variant=\"outlined\"\r\n        startIcon={<Email />}\r\n        onClick={() => setStage(1)}\r\n        sx={{ width: \"300px\", height: \"50px\" }}\r\n      >\r\n        Email\r\n      </Button>\r\n      <Link to={`/auth/register${tab ? \"?tab=\" + tab : \"\"}`}>\r\n        <Button\r\n          sx={{\r\n            mt: \"50px\",\r\n            textTransform: \"none\",\r\n            \":hover\": { textDecoration: \"underline\" },\r\n          }}\r\n        >\r\n          Don't have an account?\r\n        </Button>\r\n      </Link>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default LoginIntro;\r\n","import {\r\n  Box,\r\n  Button,\r\n  IconButton,\r\n  InputAdornment,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport React, { useState } from \"react\";\r\nimport { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport AuthWorker from \"../../../utils/authWorker\";\r\nimport { navigate } from \"gatsby\";\r\nimport { loginUser } from \"../../../state/user\";\r\n\r\nconst LoginForm = ({ setStage, setStatus, tab }) => {\r\n  const authWorker = new AuthWorker();\r\n  const dispatch = useDispatch();\r\n  const [form, setForm] = useState({});\r\n  const [errors, setErrors] = useState({\r\n    email: \"required\",\r\n    password: \"required\",\r\n  });\r\n  const [touched, setTouched] = useState({});\r\n  const [isPassVisible, setIsPassVisible] = useState(false);\r\n\r\n  const handleChange = ({ target }) => {\r\n    setErrors(authWorker.getErrors(errors, target));\r\n    setForm((prev) => ({ ...prev, [target.name]: target.value }));\r\n  };\r\n\r\n  const handleBlur = ({ target }) => {\r\n    setTouched((prev) => ({ ...prev, [target.name]: true }));\r\n  };\r\n\r\n  const handleLogin = (event) => {\r\n    event.preventDefault();\r\n    setForm((prev) => {\r\n      dispatch(\r\n        loginUser({\r\n          data: prev,\r\n          setStatus,\r\n          onSuccess: () => {\r\n            navigate(tab || \"/\");\r\n            setStage(0);\r\n          },\r\n          onError: () => {\r\n            setStage(0);\r\n          },\r\n        })\r\n      );\r\n      return {};\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={handleLogin}\r\n      style={{\r\n        width: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: \"20px\",\r\n      }}\r\n    >\r\n      <Box display={\"flex\"} flexDirection={\"column\"} gap={\"5px\"}>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          type=\"email\"\r\n          label={\"email\"}\r\n          name=\"email\"\r\n          value={form.email}\r\n          onChange={handleChange}\r\n          onBlur={handleBlur}\r\n          error={Boolean(touched.email) && Boolean(errors.email)}\r\n          helperText={(touched.email && errors.email) || \" \"}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          type={isPassVisible ? \"text\" : \"password\"}\r\n          label={\"password\"}\r\n          name=\"password\"\r\n          value={form.password}\r\n          onChange={handleChange}\r\n          onBlur={handleBlur}\r\n          error={Boolean(touched.password) && Boolean(errors.password)}\r\n          helperText={(touched.password && errors.password) || \" \"}\r\n          InputProps={{\r\n            endAdornment: (\r\n              <InputAdornment position=\"end\">\r\n                <IconButton onClick={() => setIsPassVisible((prev) => !prev)}>\r\n                  {isPassVisible ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n        <Button onClick={() => setStage(2)}>Forgot password?</Button>\r\n      </Box>\r\n      <Box\r\n        width={\"100%\"}\r\n        display={\"flex\"}\r\n        justifyContent={\"space-between\"}\r\n        alignItems={\"center\"}\r\n      >\r\n        <Button onClick={() => setStage(0)}>cancel</Button>\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          disableElevation\r\n          disabled={\r\n            (!Boolean(Object.keys(touched).length) &&\r\n              Boolean(Object.keys(errors).length)) ||\r\n            Boolean(Object.keys(errors).length)\r\n          }\r\n        >\r\n          Login\r\n        </Button>\r\n      </Box>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Box, Typography, useTheme } from \"@mui/material\";\r\nimport LoginIntro from \"../../components/auth/login/intro\";\r\nimport LoginForm from \"../../components/auth/login/loginForm\";\r\nimport ChangePassword from \"../../components/forms/changePassword\";\r\n\r\nconst Login = ({ setStatus, location }) => {\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const tab = searchParams.get(\"tab\");\r\n  const theme = useTheme();\r\n  const [stage, setStage] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      document.title = `Login | ${theme.title}`;\r\n    }\r\n  }, [theme.title]);\r\n\r\n  const stages = [\r\n    <LoginIntro {...{ setStage, tab }} />,\r\n    <LoginForm\r\n      {...{\r\n        setStage,\r\n        setStatus,\r\n        tab,\r\n      }}\r\n    />,\r\n    <ChangePassword\r\n      onCancel={() => setStage(1)}\r\n      onComplete={() => {\r\n        setStage(1);\r\n      }}\r\n      {...{ setStatus }}\r\n    />,\r\n  ];\r\n\r\n  return (\r\n    <Box\r\n      width={\"100%\"}\r\n      height={\"100%\"}\r\n      display={\"flex\"}\r\n      flexDirection={\"column\"}\r\n      alignItems={\"center\"}\r\n    >\r\n      <Typography\r\n        mt={\"20px\"}\r\n        fontSize={\"clamp(1rem, 5vw, 2rem)\"}\r\n        sx={{ typography: \"secondaryFont\", fontWeight: \"bold\" }}\r\n      >\r\n        Login\r\n      </Typography>\r\n      <Box\r\n        display={\"flex\"}\r\n        width={\"min(400px, 100%)\"}\r\n        height={\"100%\"}\r\n        alignItems={\"center\"}\r\n        padding={\"0px 30px\"}\r\n      >\r\n        {stages[stage]}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["createSvgIcon","d","_ref","setStage","tab","React","Box","width","height","display","flexDirection","alignItems","justifyContent","gap","Button","variant","startIcon","Google","sx","Facebook","Email","onClick","Link","to","mt","textTransform","textDecoration","setStatus","authWorker","AuthWorker","dispatch","useDispatch","form","setForm","useState","errors","setErrors","email","password","touched","setTouched","isPassVisible","setIsPassVisible","handleChange","_ref2","target","getErrors","prev","name","value","handleBlur","_ref3","onSubmit","event","preventDefault","loginUser","data","onSuccess","navigate","onError","style","TextField","type","label","onChange","onBlur","error","Boolean","helperText","InputProps","endAdornment","InputAdornment","position","IconButton","Visibility","VisibilityOff","disableElevation","disabled","Object","keys","length","location","URLSearchParams","search","get","theme","useTheme","stage","useEffect","window","document","title","stages","LoginIntro","LoginForm","ChangePassword","onCancel","onComplete","Typography","fontSize","typography","fontWeight","padding"],"sourceRoot":""}