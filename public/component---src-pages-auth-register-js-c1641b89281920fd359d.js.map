{"version":3,"file":"component---src-pages-auth-register-js-c1641b89281920fd359d.js","mappings":"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","sources":["webpack://e-commerce-website/./node_modules/@mui/icons-material/esm/East.js","webpack://e-commerce-website/./src/components/auth/register/intro.jsx","webpack://e-commerce-website/./node_modules/@mui/icons-material/esm/Person.js","webpack://e-commerce-website/./src/components/auth/register/general.jsx","webpack://e-commerce-website/./src/components/auth/register/currency.jsx","webpack://e-commerce-website/./src/pages/auth/register.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"m15 5-1.41 1.41L18.17 11H2v2h16.17l-4.59 4.59L15 19l7-7-7-7z\"\n}), 'East');","import React from \"react\";\r\nimport { Box, Button, Typography,} from \"@mui/material\";\r\nimport { East } from \"@mui/icons-material\";\r\nimport { Link } from \"gatsby\";\r\n\r\nconst RegisterIntro = ({ setStage, tab }) => {\r\n  return (\r\n    <Box\r\n      height={\"100%\"}\r\n      position={\"relative\"}\r\n      display={\"flex\"}\r\n      flexDirection={\"column\"}\r\n      alignItems={\"center\"}\r\n      justifyContent={\"center\"}\r\n      gap={\"30px\"}\r\n    >\r\n      <Box\r\n        display={\"flex\"}\r\n        flexDirection={\"column\"}\r\n        alignItems={\"center\"}\r\n        gap={\"10px\"}\r\n      >\r\n        <Typography\r\n          mt={\"10px\"}\r\n          fontSize={\"clamp(1rem, 5vw, 2rem)\"}\r\n          sx={{typography: \"secondaryFont\", fontWeight:\"bold\"}}\r\n        >\r\n          Register\r\n        </Typography>\r\n        <Typography fontSize={\"1.1rem\"}>\r\n          And get access to all of our services\r\n        </Typography>\r\n      </Box>\r\n      <Button\r\n        size=\"large\"\r\n        variant=\"contained\"\r\n        endIcon={<East />}\r\n        onClick={() => setStage(1)}\r\n      >\r\n        Start\r\n      </Button>\r\n      <Link to={`/auth/login${tab ? \"?tab=\" + tab : \"\"}`}>\r\n        <Button\r\n          sx={{\r\n            mt: \"50px\",\r\n            textTransform: \"none\",\r\n            \":hover\": { textDecoration: \"underline\" },\r\n          }}\r\n        >\r\n          Already have an account?\r\n        </Button>\r\n      </Link>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default RegisterIntro;\r\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'Person');","import { Person, PhoneInTalk } from \"@mui/icons-material\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  TextField,\r\n  Typography,\r\n  useMediaQuery,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport React, { useState } from \"react\";\r\nimport AuthWorker from \"../../../utils/authWorker\";\r\nimport TelTextField from \"../../forms/inputs/telTextField\";\r\nimport callingCodes from \"../../../../lib/callingCodes.json\";\r\n\r\nconst GeneralInfo = ({ setStage, setRegisterForm, region }) => {\r\n  const theme = useTheme();\r\n  const isNotPhone = useMediaQuery(\"(min-width:1000px)\");\r\n  const authWorker = new AuthWorker();\r\n  const [form, setForm] = useState({\r\n    phoneCode: region.country_code,\r\n    phoneNumber: callingCodes[region.country_code].callingCode,\r\n  });\r\n  const [touched, setTouched] = useState({});\r\n  const [errors, setErrors] = useState({\r\n    firstName: \"required\",\r\n    lastName: \"required\",\r\n    email: \"required\",\r\n    phoneNumber: \"required\",\r\n  });\r\n\r\n  const handleChange = ({ target }) => {\r\n    setForm((prev) => {\r\n      if (target.name === \"phoneCode\") {\r\n        return {\r\n          ...prev,\r\n          phoneCode: target.value,\r\n          phoneNumber: callingCodes[target.value].callingCode,\r\n        };\r\n      } else if (target.name === \"phoneNumber\") {\r\n        return {\r\n          ...prev,\r\n          phoneNumber: authWorker.formatPhoneNumber(\r\n            prev.phoneNumber,\r\n            target.value,\r\n            prev.phoneCode\r\n          ),\r\n        };\r\n      }\r\n      return { ...prev, [target.name]: target.value };\r\n    });\r\n    setForm((prev) => {\r\n      setErrors(\r\n        authWorker.getErrors(\r\n          errors,\r\n          { name: target.name, value: prev[target.name] },\r\n          prev\r\n        )\r\n      );\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  const handleBlur = ({ target }) => {\r\n    setTouched((prev) => ({ ...prev, [target.name]: true }));\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    setRegisterForm((prev) => ({\r\n      ...prev,\r\n      name: { first: form.firstName, last: form.lastName },\r\n      email: form.email,\r\n      phone: { code: form.phoneCode, number: form.phoneNumber },\r\n    }));\r\n    setForm({\r\n      phoneCode: region.country_code || \"US\",\r\n      phoneNumber: callingCodes[region.country_code || \"US\"].callingCode,\r\n    });\r\n    setStage(2);\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={handleSubmit}\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: \"20px\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        justifyContent: \"space-evenly\",\r\n      }}\r\n    >\r\n      <Box display={\"flex\"} flexDirection={\"column\"} gap={\"10px\"}>\r\n        <Box display={\"flex\"} flexDirection={\"column\"}>\r\n          <Box\r\n            display={\"flex\"}\r\n            gap={\"5px\"}\r\n            alignItems={\"center\"}\r\n            color={\"text.secondary\"}\r\n            padding={\"5px\"}\r\n          >\r\n            <Person fontSize={\" 0.7rem\"} />\r\n            <Typography\r\n              fontSize={\" 0.7rem\"}\r\n              sx={{ \"& > span\": { color: \"primary.main\" } }}\r\n            >\r\n              name<span>*</span>\r\n            </Typography>\r\n          </Box>\r\n          <Box\r\n            border={`1px solid ${theme.palette.grey[300]}`}\r\n            padding={\"15px 15px 0px 15px\"}\r\n            borderRadius={\"10px\"}\r\n            display={\"flex\"}\r\n            flexWrap={\"wrap\"}\r\n            gap={isNotPhone ? \"10px\" : 0}\r\n          >\r\n            <TextField\r\n              size={!isNotPhone && \"small\"}\r\n              variant=\"outlined\"\r\n              type=\"name\"\r\n              name=\"firstName\"\r\n              value={form.firstName}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n              error={Boolean(touched.firstName) && Boolean(errors.firstName)}\r\n              helperText={(touched.firstName && errors.firstName) || \" \"}\r\n              label={\"First name\"}\r\n              sx={{ flexBasis: 200, flexGrow: 1 }}\r\n            />\r\n            <TextField\r\n              size={!isNotPhone && \"small\"}\r\n              variant=\"outlined\"\r\n              type=\"name\"\r\n              label={\"Last name\"}\r\n              name=\"lastName\"\r\n              value={form.lastName}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n              error={Boolean(touched.lastName) && Boolean(errors.lastName)}\r\n              helperText={(touched.lastName && errors.lastName) || \" \"}\r\n              sx={{ flexBasis: 200, flexGrow: 1 }}\r\n            />\r\n          </Box>\r\n        </Box>\r\n        <Box display={\"flex\"} flexDirection={\"column\"}>\r\n          <Box\r\n            display={\"flex\"}\r\n            gap={\"5px\"}\r\n            alignItems={\"center\"}\r\n            color={\"text.secondary\"}\r\n            padding={\"5px\"}\r\n          >\r\n            <PhoneInTalk fontSize={\" 0.7rem\"} />\r\n            <Typography\r\n              fontSize={\" 0.7rem\"}\r\n              sx={{ \"& > span\": { color: \"primary.main\" } }}\r\n            >\r\n              contact<span>*</span>\r\n            </Typography>\r\n          </Box>\r\n          <Box\r\n            border={`1px solid ${theme.palette.grey[300]}`}\r\n            padding={\"15px 15px 0px 15px\"}\r\n            borderRadius={\"10px\"}\r\n            display={\"flex\"}\r\n            flexWrap={\"wrap\"}\r\n            gap={isNotPhone ? \"10px\" : 0}\r\n          >\r\n            <TextField\r\n              size={!isNotPhone && \"small\"}\r\n              variant=\"outlined\"\r\n              type=\"email\"\r\n              label={\"Email\"}\r\n              name=\"email\"\r\n              value={form.email}\r\n              onChange={handleChange}\r\n              onBlur={handleBlur}\r\n              error={Boolean(touched.email) && Boolean(errors.email)}\r\n              helperText={(touched.email && errors.email) || \" \"}\r\n              sx={{ flexBasis: 200, flexGrow: 1 }}\r\n            />\r\n            <TelTextField\r\n              number=\"phoneNumber\"\r\n              code=\"phoneCode\"\r\n              style={{ flexBasis: 200, flexGrow: 1 }}\r\n              size={!isNotPhone && \"small\"}\r\n              {...{ form, errors, touched, handleChange, handleBlur }}\r\n            />\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n      <Box\r\n        width={\"100%\"}\r\n        display={\"flex\"}\r\n        justifyContent={\"space-between\"}\r\n        alignItems={\"center\"}\r\n      >\r\n        <Button variant=\"outlined\" onClick={() => setStage(0)}>\r\n          cancel\r\n        </Button>\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          disableElevation\r\n          disabled={\r\n            (!Boolean(Object.keys(touched).length) &&\r\n              Boolean(Object.keys(errors).length)) ||\r\n            Boolean(Object.keys(errors).length)\r\n          }\r\n        >\r\n          next\r\n        </Button>\r\n      </Box>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default GeneralInfo;\r\n","import React, { useState } from \"react\";\r\nimport { Paid } from \"@mui/icons-material\";\r\nimport { Box, Button, Typography } from \"@mui/material\";\r\nimport CurrencySelect from \"../../forms/inputs/currencySelect\";\r\nimport currencies from \"../../../../lib/currencies.json\";\r\n\r\nconst Currency = ({ region, setStage, setRegisterForm, handleRegister }) => {\r\n  const [form, setForm] = useState({ currency: region.currency || \"USD\" });\r\n\r\n  const handleChange = ({ target }) => {\r\n    setForm({ currency: target.value });\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    setRegisterForm((prev) => ({\r\n      ...prev,\r\n      payments: { ...prev.payments, currency: currencies[form.currency] },\r\n    }));\r\n    handleRegister();\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: \"20px\",\r\n        height: \"100%\",\r\n        justifyContent: \"space-evenly\",\r\n        alignItems:\"center\"\r\n      }}\r\n    >\r\n      <Box display={\"flex\"} flexDirection={\"column\"} gap={\"20px\"}>\r\n        <Typography\r\n          fontWeight={\"bold\"}\r\n          fontSize={\"1.3rem\"}\r\n          sx={{ display: \"flex\", alignItems: \"center\", gap: \"5px\" }}\r\n        >\r\n          <Paid />\r\n          Select your currency\r\n        </Typography>\r\n        <CurrencySelect {...{ form, handleChange }} />\r\n      </Box>\r\n      <Box\r\n        width={\"100%\"}\r\n        display={\"flex\"}\r\n        justifyContent={\"space-between\"}\r\n        alignItems={\"center\"}\r\n      >\r\n        <Button variant=\"outlined\" disableElevation onClick={() => setStage(4)}>\r\n          Back\r\n        </Button>\r\n        <Button onClick={handleConfirm} variant=\"contained\" disableElevation>\r\n          confirm\r\n        </Button>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Currency;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Box, Typography, useTheme } from \"@mui/material\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport RegisterIntro from \"../../components/auth/register/intro\";\r\nimport GeneralInfo from \"../../components/auth/register/general\";\r\nimport PasswordForm from \"../../components/forms/password\";\r\nimport Address from \"../../components/forms/address\";\r\nimport Payment from \"../../components/forms/payment\";\r\nimport Currency from \"../../components/auth/register/currency\";\r\nimport { registerUser } from \"../../state/user\";\r\nimport { navigate } from \"gatsby\";\r\n\r\nconst Register = ({ setStatus, location }) => {\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const tab = searchParams.get(\"tab\");\r\n  const theme = useTheme();\r\n  const dispatch = useDispatch();\r\n  const [stage, setStage] = useState(0);\r\n  const [registerForm, setRegisterForm] = useState({});\r\n  const region = useSelector((state) => state.session.region);\r\n  \r\n  useEffect(() => {\r\n    if (typeof window !== \"undefined\") {\r\n      document.title = `Register | ${theme.title}`;\r\n    }\r\n  }, [theme.title]);\r\n\r\n  const addPassword = (password) => {\r\n    setRegisterForm((prev) => ({ ...prev, password }));\r\n    setStage(3);\r\n  };\r\n\r\n  const addAddress = (address) => {\r\n    setRegisterForm((prev) => ({ ...prev, addresses: { saved: [address] } }));\r\n    setStage(4);\r\n  };\r\n\r\n  const addPayment = (payment) => {\r\n    setRegisterForm((prev) => ({\r\n      ...prev,\r\n      payments: { ...prev.payments, saved: [payment] },\r\n    }));\r\n    setStage(5);\r\n  };\r\n\r\n  const handleRegister = () => {\r\n    //for the most updated value\r\n    setRegisterForm((prev) => {\r\n      dispatch(\r\n        registerUser({\r\n          data: prev,\r\n          setStatus,\r\n          onSuccess: () => {\r\n            navigate(`/auth/login${tab ? \"?tab=\" + tab : \"\"}`);\r\n            setStage(0);\r\n          },\r\n          onError: () => {\r\n            setStage(0);\r\n          },\r\n        })\r\n      );\r\n      return {};\r\n    });\r\n  };\r\n\r\n  const stages = [\r\n    <RegisterIntro {...{ setStage, tab }} />,\r\n    <GeneralInfo {...{ setStage, setRegisterForm, region }} />,\r\n    <PasswordForm handleBack={() => setStage(1)} handleNext={addPassword} />,\r\n    <Address\r\n      onCancel={() => setStage(2)}\r\n      onComplete={addAddress}\r\n      enableSkip\r\n      onSkip={() => setStage(4)}\r\n    />,\r\n    <Payment\r\n      mobileValues={registerForm.phone}\r\n      onCancel={() => setStage(3)}\r\n      onComplete={addPayment}\r\n      {...{ setStatus }}\r\n      enableSkip\r\n      onSkip={() => setStage(5)}\r\n    />,\r\n    <Currency\r\n      {...{\r\n        region,\r\n        setStage,\r\n        setRegisterForm,\r\n        handleRegister,\r\n      }}\r\n    />,\r\n  ];\r\n\r\n  return (\r\n    <Box\r\n      width={\"100%\"}\r\n      height={\"100%\"}\r\n      display={\"flex\"}\r\n      flexDirection={\"column\"}\r\n      alignItems={\"center\"}\r\n    >\r\n      <Typography\r\n        mt={\"10px\"}\r\n        fontSize={\"clamp(1rem, 5vw, 2rem)\"}\r\n        sx={{ typography: \"secondaryFont\", fontWeight: \"bold\" }}\r\n      >\r\n        {Boolean(stage) && \"Register\"}\r\n      </Typography>\r\n      <Box width={\"min(500px, 100%)\"} height={\"100%\"} padding={\"0px 20px\"}>\r\n        {stages[stage]}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"names":["createSvgIcon","d","_ref","setStage","tab","React","Box","height","position","display","flexDirection","alignItems","justifyContent","gap","Typography","mt","fontSize","sx","typography","fontWeight","Button","size","variant","endIcon","East","onClick","Link","to","textTransform","textDecoration","setRegisterForm","region","theme","useTheme","isNotPhone","useMediaQuery","authWorker","AuthWorker","form","setForm","useState","phoneCode","country_code","phoneNumber","callingCodes","callingCode","touched","setTouched","errors","setErrors","firstName","lastName","email","handleChange","_ref2","target","prev","name","value","formatPhoneNumber","getErrors","handleBlur","_ref3","onSubmit","event","preventDefault","first","last","phone","code","number","style","width","color","padding","Person","border","palette","grey","borderRadius","flexWrap","TextField","type","onChange","onBlur","error","Boolean","helperText","label","flexBasis","flexGrow","PhoneInTalk","TelTextField","disableElevation","disabled","Object","keys","length","handleRegister","currency","Paid","CurrencySelect","handleConfirm","payments","currencies","setStatus","location","URLSearchParams","search","get","dispatch","useDispatch","stage","registerForm","useSelector","state","session","useEffect","window","document","title","stages","RegisterIntro","GeneralInfo","PasswordForm","handleBack","handleNext","password","Address","onCancel","onComplete","address","addresses","saved","enableSkip","onSkip","Payment","mobileValues","payment","Currency","registerUser","data","onSuccess","navigate","onError"],"sourceRoot":""}